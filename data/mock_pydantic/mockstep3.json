{
  "graph": {
    "nodes": [
      {
        "id": "start",
        "type": "start",
        "description": "Procedure starts",
        "properties": {}
      },
      {
        "id": "1",
        "type": "process",
        "description": "UE sends REGISTRATION REQUEST message to the AMF",
        "properties": {
          "state_change": "5GMM-DEREGISTERED",
          "entity": "UE",
          "messages": [
            "REGISTRATION REQUEST"
          ]
        }
      },
      {
        "id": "2",
        "type": "timer",
        "description": "UE starts timer T3510",
        "properties": {
          "action": "start",
          "name": "T3510"
        }
      },
      {
        "id": "3",
        "type": "process",
        "description": "AMF sends a REGISTRATION ACCEPT message to the UE",
        "properties": {
          "state_change": "AMF processing REGISTRATION REQUEST",
          "entity": "AMF",
          "messages": [
            "REGISTRATION ACCEPT"
          ]
        }
      },
      {
        "id": "4",
        "type": "process",
        "description": "UE resets the registration attempt counter, enters state 5GMM-REGISTERED and sets the 5GS update status to 5U1 UPDATED",
        "properties": {
          "state_change": "UE is waiting for REGISTRATION ACCEPT",
          "entity": "UE"
        }
      },
      {
        "id": "5",
        "type": "process",
        "description": "UE returns a REGISTRATION COMPLETE message to the AMF to acknowledge reception of the service-level-AA pending indication",
        "properties": {
          "state_change": "UE is REGISTERED",
          "entity": "UE",
          "messages": [
            "REGISTRATION COMPLETE"
          ]
        }
      },
      {
        "id": "6",
        "type": "process",
        "description": "UE returns a REGISTRATION COMPLETE message to the AMF to acknowledge the successful update of the network slicing information",
        "properties": {
          "state_change": "UE is REGISTERED",
          "entity": "UE",
          "messages": [
            "REGISTRATION COMPLETE"
          ]
        }
      },
      {
        "id": "7",
        "type": "process",
        "description": "UE returns a REGISTRATION COMPLETE message to the AMF to acknowledge reception of the operator-defined access category definitions, the extended local emergency numbers list or the 'CAG information list'",
        "properties": {
          "state_change": "UE is REGISTERED",
          "entity": "UE",
          "messages": [
            "REGISTRATION COMPLETE"
          ]
        }
      },
      {
        "id": "8",
        "type": "process",
        "description": "UE shall return REGISTRATION COMPLETE message to the AMF to acknowledge the reception of the Negotiated PEIPS assistance information IE",
        "properties": {
          "state_change": "UE is REGISTERED",
          "entity": "UE",
          "messages": [
            "REGISTRATION COMPLETE"
          ]
        }
      },
      {
        "id": "9",
        "type": "process",
        "description": "UE shall return a REGISTRATION COMPLETE message to the AMF to acknowledge reception of the UE radio capability ID IE or the UE radio capability ID deletion indication IE",
        "properties": {
          "state_change": "UE is REGISTERED",
          "entity": "UE",
          "messages": [
            "REGISTRATION COMPLETE"
          ]
        }
      },
      {
        "id": "10",
        "type": "process",
        "description": "AMF shall stop timer T3550 and change to state 5GMM-REGISTERED",
        "properties": {
          "state_change": "AMF in 5GMM-COMMON-PROCEDURE-INITIATED",
          "entity": "AMF"
        }
      }
    ],
    "edges": [
      {
        "from": "start",
        "to": "1",
        "type": "sequential",
        "properties": {
          "trigger": "UE sends REGISTRATION REQUEST message to the AMF"
        }
      },
      {
        "from": "1",
        "to": "2",
        "type": "sequential",
        "properties": {
          "trigger": "The UE starts timer T3510"
        }
      },
      {
        "from": "2",
        "to": "3",
        "type": "sequential",
        "properties": {
          "trigger": "If the initial registration request is accepted by the network, the AMF sends a REGISTRATION ACCEPT message to the UE"
        }
      },
      {
        "from": "3",
        "to": "4",
        "type": "sequential",
        "properties": {
          "trigger": "Upon receipt of the REGISTRATION ACCEPT message, the UE resets the registration attempt counter, enters state 5GMM-REGISTERED and sets the 5GS update status to 5U1 UPDATED."
        }
      },
      {
        "from": "4",
        "to": "5",
        "type": "sequential",
        "properties": {
          "trigger": "If the UE has included the service-level device ID set to the CAA-level UAV ID in the Service-level-AA container IE of the REGISTRATION REQUEST message and the REGISTRATION ACCEPT message contains the service-level-AA pending indication in the Service-level-AA container IE, the UE shall return a REGISTRATION COMPLETE message to the AMF to acknowledge reception of the service-level-AA pending indication."
        }
      },
      {
        "from": "4",
        "to": "6",
        "type": "sequential",
        "properties": {
          "trigger": "If the REGISTRATION ACCEPT message contains the Network slicing indication IE with the Network slicing subscription change indication set to 'Network slicing subscription changed' the UE shall return a REGISTRATION COMPLETE message to the AMF to acknowledge the successful update of the network slicing information"
        }
      },
      {
        "from": "4",
        "to": "7",
        "type": "sequential",
        "properties": {
          "trigger": "If the REGISTRATION ACCEPT message contains the CAG information list IE or the Extended CAG information list IE and the UE had set the CAG bit to 'CAG supported' in the 5GMM capability IE of the REGISTRATION REQUEST message, the UE shall return a REGISTRATION COMPLETE message to the AMF to acknowledge reception of the operator-defined access category definitions, the extended local emergency numbers list or the 'CAG information list'"
        }
      },
      {
        "from": "4",
        "to": "8",
        "type": "sequential",
        "properties": {
          "trigger": "If the UE has set the RCMAP bit to 'Sending of REGISTRATION COMPLETE message for negotiated PEIPS parameters supported' in the 5GMM capability IE of the REGISTRATION REQUEST message and if REGISTRATION ACCEPT message contains the Negotiated PEIPS assistance information IE, the UE shall return REGISTRATION COMPLETE message to the AMF to acknowledge the reception of the Negotiated PEIPS assistance information IE"
        }
      },
      {
        "from": "4",
        "to": "9",
        "type": "sequential",
        "properties": {
          "trigger": "If the REGISTRATION ACCEPT message contains the UE radio capability ID IE or the UE radio capability ID deletion indication IE, the UE shall return a REGISTRATION COMPLETE message to the AMF to acknowledge reception of the UE radio capability ID IE or the UE radio capability ID deletion indication IE"
        }
      },
      {
        "from": "4",
        "to": "10",
        "type": "sequential",
        "properties": {
          "trigger": "Upon receiving a REGISTRATION COMPLETE message, the AMF shall stop timer T3550 and change to state 5GMM-REGISTERED"
        }
      }
    ]
  }
}